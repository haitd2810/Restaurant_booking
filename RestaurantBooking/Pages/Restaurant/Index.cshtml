@page
@model CoffeeShopCustomer.Pages.CoffeePage.IndexModel
@{
    Layout = "~/Pages/Shared/_Layout.cshtml";
}
<section id="hero" class="d-flex align-items-center">
    <div class="container position-relative text-center text-lg-start" data-aos="zoom-in" data-aos-delay="100">
        <div class="row">
            <div class="col-lg-8">
                <h1>Welcome to <span>Restaurant</span></h1>

                <div class="btns">
                    <a href="#menu" class="btn-menu animated fadeInUp scrollto">Our Menu</a>
                    <a href="#book-a-table" class="btn-book animated fadeInUp scrollto">Book a Table</a>
                </div>
            </div>
            <div class="col-lg-4 d-flex align-items-center justify-content-center position-relative" data-aos="zoom-in" data-aos-delay="200">
                @* <a href="#" class="glightbox play-btn"></a> *@
                <a href="https://www.youtube.com/watch?v=GlrxcuEDyF8" class="glightbox play-btn"></a>
            </div>

        </div>
    </div>
</section><!-- End Hero -->
<main id="main">
    <!-- ======= Menu Section ======= -->
    <section id="menu" class="menu section-bg">
        <div class="container" data-aos="fade-up">

            <div class="section-title">
                <h2>Menu</h2>
                <p>Check Our Tasty Menu</p>
            </div>

            <div class="row" data-aos="fade-up" data-aos-delay="100">
                <div class="col-lg-12 d-flex justify-content-center">
                    <ul id="menu-flters">
                        <li data-filter="*" class="filter-active">All</li>
                        @if(Model.category_list != null)
                        {
                            @foreach(var cate in Model.category_list)
                            {
                                <li data-filter=".filter-@cate.Id">@cate.Name</li>
                            }
                        }
                    </ul>
                </div>
            </div>

            <div class="row menu-container" data-aos="fade-up" data-aos-delay="200">
                @if(Model.menu_list != null)
                {
                    @foreach(var menu in Model.menu_list)
                    {
                        <div class="col-lg-6 menu-item filter-@menu.Cate.Id">
                            <img src="@menu.Img" class="menu-img" alt="">
                            <div class="menu-content">
                                <a href="#">@menu.Name</a><span>@menu.Price VNĐ</span>
                            </div>
                            <div class="menu-ingredients">
                                @menu.Detail
                            </div>
                        </div>
                    }
                }
                else
                {
                    <p>Sorry! There are some error. Please wait a minute and refresh this page.</p>
                }
            </div>

        </div>
    </section><!-- End Menu Section -->
    
    <!-- ======= Book A Table Section ======= -->
    <section id="book-a-table" class="book-a-table contact">
        <div class="container" data-aos="fade-up">

            <div class="section-title">
                <h2>Reservation</h2>
                <p>Book a Table</p>
            </div>

            <div class="container" data-aos="fade-up">

                <div class="row mt-5">

                    <div class="col-lg-4">
                        <div class="info">
                            <div class="address">
                                <i class="bi bi-geo-alt"></i>
                                <h4>Location:</h4>
                                <p>Dai Hoc FPT</p>
                            </div>

                            <div class="open-hours">
                                <i class="bi bi-clock"></i>
                                <h4>Open Hours:</h4>
                                <p>
                                    Monday-Saturday:<br>
                                    11:00 AM - 2300 PM
                                </p>
                            </div>

                            <div class="email">
                                <i class="bi bi-envelope"></i>
                                <h4>Email:</h4>
                                <p>info@example.com</p>
                            </div>

                            <div class="phone">
                                <i class="bi bi-phone"></i>
                                <h4>Call:</h4>
                                <p>+1 5589 55488 55s</p>
                            </div>

                        </div>

                    </div>

                    <div class="col-lg-8 mt-5 mt-lg-0">

                        <form method="post" asp-page-handler="Booking" class="php-email-form" data-aos="fade-up" data-aos-delay="100">
                            <div class="row">
                                <div class="col-lg-4 col-md-6 form-group mt-3">
                                    <input required type="text" name="name" class="form-control" id="name" placeholder="Your Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                                    <div class="validate"></div>
                                </div>
                                <div class="col-lg-4 col-md-6 form-group mt-3">
                                    <input required type="email" class="form-control" name="email" id="email" placeholder="Your Email" data-rule="email" data-msg="Please enter a valid email">
                                    <div class="validate"></div>
                                </div>
                                <div class="col-lg-4 col-md-6 form-group mt-3">
                                    <input required type="text" class="form-control" name="phone" id="phone" placeholder="Your Phone" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                                    <div class="validate"></div>
                                </div>
                                <div class="col-lg-6 col-md-6 form-group mt-3">
                                    <input required type="date" name="date" class="form-control" required id="date" placeholder="Date" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                                    <div class="validate"></div>
                                </div>
                                <div class="col-lg-6 col-md-6 form-group mt-3">
                                    <input required type="time" class="form-control" name="time" id="time" placeholder="Time" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
                                    <div class="validate"></div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <input class="form-control" disabled name="message" rows="5" placeholder="Please fill in all information. Thank you for choosing our restaurant!" />
                                <div class="validate" style="display: block;">@(HttpContext.Session.GetString("Booking_Failed") != null ? HttpContext.Session.GetString("Booking_Failed") : "")</div>
                            </div>
                            <div class="text-center"><button type="submit">Book a Table</button></div>
                        </form>

                    </div>

                </div>

            </div>

        </div>
    </section><!-- End Book A Table Section -->
    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
        <div class="container" data-aos="fade-up">

            <div class="section-title">
                <h2>Contact</h2>
                <p>Contact Us</p>
            </div>
        </div>

        <div data-aos="fade-up">
            <iframe style="border:0; width: 100%; height: 350px;" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3598.416283491346!2d105.52271427510478!3d21.012416680632775!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3135abc60e7d3f19%3A0x2be9d7d0b5abcbf4!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBGUFQ!5e1!3m2!1svi!2s!4v1709190270546!5m2!1svi!2s" frameborder="0" allowfullscreen></iframe>
        </div>

    </section><!-- End Contact Section -->
    <section id="feedback" class="feedback contact">
        <div class="container" data-aos="fade-up">

            <div class="section-title">
                <h2>FeedBack</h2>
                <p>Give Your Feedback</p>
            </div>

            <div class="container" data-aos="fade-up">

                <div class="row mt-5">

                    <div class="col-lg-12 mt-5 mt-lg-0">

                        <form enctype="multipart/form-data" method="post" asp-page-handler="Feedback" role="form" class="php-email-form">
                            <div class="row">
                                <div class="col-md-6 form-group">
                                    <input required type="number" name="phone" class="form-control" id="name" placeholder="Your Phone"/>
                                </div>
                                <div class="col-md-6 form-group mt-3 mt-md-0">
                                    <input required type="email" class="form-control" name="email" id="email" placeholder="Your Email"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-md-4 form-group mt-3">
                                    <input required type="date" name="date" class="form-control" id="date" placeholder="Date" data-rule="minlen:4" data-msg="Please enter at least 4 chars"/>
                                    <div class="validate"></div>
                                </div>
                                <div class="ol-lg-4 col-md-4 form-group mt-3">
                                    <input required style="padding: 10px;" type="file" class="form-control  form-control-sm" name="img" id="img" placeholder="Please update Image for your feedback"/>
                                </div>
                                <div id="typeSelectContainer" name="type" class="col-lg-2 col-md-2 form-group mt-3">
                                    <select name="type" id="feedbackType" class="form-control select-box">
                                        <option value="account">Feedback Staff</option>
                                        <option value="menu">Feedback Meal</option>
                                        <option value="other">Feedback Other</option>
                                    </select>
                                </div>

                                <div id="staffSelect" name="staff" class="col-lg-2 col-md-2 form-group mt-3">
                                    <select name="staff" class="form-control select-box">
                                        @if(Model.accounts_list != null)
                                        {
                                            @foreach(var a in Model.accounts_list)
                                            {
                                                <option value="@a.Id">@a.Code</option>
                                            }
                                        }
                                    </select>
                                </div>

                                <div id="mealSelect" name="menu" class="col-lg-2 col-md-2 form-group mt-3" style="display: none;">
                                    <select name="meal" class="form-control select-box">
                                        @if(Model.menu_list != null)
                                        {
                                            @foreach(var menu in Model.menu_list)
                                            {
                                                <option value="@menu.Id">@menu.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <textarea class="form-control" name="feedback" rows="8" placeholder="Feedback" required></textarea>
                            </div>
                            <div class="my-3">
                                <div class="loading">Loading</div>
                                <div class="error-message"></div>
                                <div class="sent-message">Your message has been sent. Thank you!</div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="validate" style="display: block;">@(HttpContext.Session.GetString("feedback_Failed") != null ? HttpContext.Session.GetString("feedback_Failed") : "")</div>
                            </div>
                            <div class="text-center"><button type="submit">Send Feedback</button></div>
                        </form>

                    </div>

                </div>

            </div>

        </div>
    </section>

</main><!-- End #main -->
<style>
    .select-box {
        background-color: #3b414600;
        color: white;
        border: 2px solid #625b4b;
        text-align: center;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
    }

    .select-box:focus {
        background-color: #3b414600;
        color: white;
        outline: none;
    }

    .select-box option {
        background-color: #1a1a1a;
        color: white;
    }
</style>
<script>
    document.getElementById('feedbackType').addEventListener('change', function () {
        var type = this.value;

        var typeSelectContainer = document.getElementById('typeSelectContainer');
        var staffSelect = document.getElementById('staffSelect');
        var mealSelect = document.getElementById('mealSelect');

        typeSelectContainer.className = 'ol-lg-2 col-md-2 form-group mt-3';

        staffSelect.style.display = 'none';
        mealSelect.style.display = 'none';

        if (type === 'account') {
            staffSelect.style.display = 'block';
        } else if (type === 'menu') {
            mealSelect.style.display = 'block';
        } else if (type === 'other') {
            typeSelectContainer.className = 'col-lg-4 col-md-4 form-group mt-3';
        }
    });
</script>
